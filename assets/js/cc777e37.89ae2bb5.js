"use strict";(self.webpackChunkcalendar_kit_docs=self.webpackChunkcalendar_kit_docs||[]).push([[5805],{6490:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>g,contentTitle:()=>c,default:()=>m,frontMatter:()=>l,metadata:()=>h,toc:()=>p});var a=t(412),s=t(6823),i=t(6998),r=t.n(i);const o=t.p+"assets/medias/fetch-data-ce17f6effba0292347df3fb7af82a365.mp4",d=t.p+"assets/images/loading-bar-f9cc1e769992b099b053c1ee5e7975ff.png",l={sidebar_position:6},c="Fetch events",h={id:"guides/fetch-events",title:"Fetch events",description:"Fetch new events when date changed",source:"@site/versioned_docs/version-1.x/guides/fetch-events.mdx",sourceDirName:"guides",slug:"/guides/fetch-events",permalink:"/react-native-calendar-kit/docs/1.x/guides/fetch-events",draft:!1,unlisted:!1,tags:[],version:"1.x",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Drag to edit",permalink:"/react-native-calendar-kit/docs/1.x/guides/drag-to-edit"},next:{title:"Custom Header",permalink:"/react-native-calendar-kit/docs/1.x/guides/custom-header"}},g={},p=[{value:"Example",id:"example",level:2},{value:"Props",id:"props",level:2},{value:"isLoading",id:"isloading",level:3},{value:"onDateChanged",id:"ondatechanged",level:3},{value:"theme",id:"theme",level:3}];function f(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"fetch-events",children:"Fetch events"})}),"\n",(0,a.jsx)(n.p,{children:"Fetch new events when date changed"}),"\n",(0,a.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",metastring:'title="Example"',children:"import { EventItem, TimelineCalendar } from '@howljs/calendar-kit';\nimport React, { useEffect, useState } from 'react';\nimport { SafeAreaView, StyleSheet } from 'react-native';\n\nconst fetchData = (props: { from: string; to: string }) =>\n  new Promise<EventItem[]>((resolve) => {\n    //Fake api\n    setTimeout(() => {\n      console.log(props);\n      resolve([]);\n    }, 1000);\n  });\n\nconst Calendar = () => {\n  const [events, setEvents] = useState<EventItem[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const numOfDays = 7;\n    const fromDate = new Date();\n    const toDate = new Date();\n    toDate.setDate(new Date().getDate() + numOfDays);\n    fetchData({\n      from: fromDate.toISOString(),\n      to: toDate.toISOString(),\n    })\n      .then((res) => {\n        setEvents((prev) => [...prev, ...res]);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, []);\n\n  const _onDateChanged = (date: string) => {\n    setIsLoading(true);\n    const numOfDays = 7;\n    const fromDate = new Date(date);\n    const toDate = new Date(date);\n    toDate.setDate(toDate.getDate() + numOfDays);\n    fetchData({\n      from: fromDate.toISOString(),\n      to: toDate.toISOString(),\n    })\n      .then((res) => {\n        setEvents((prev) => [...prev, ...res]);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <TimelineCalendar\n        viewMode=\"week\"\n        events={events}\n        isLoading={isLoading}\n        onDateChanged={_onDateChanged}\n        theme={{ loadingBarColor: '#D61C4E' }}\n      />\n    </SafeAreaView>\n  );\n};\n\nexport default Calendar;\n\nconst styles = StyleSheet.create({\n  container: { flex: 1, backgroundColor: '#FFF' },\n});\n\n\n"})}),"\n",(0,a.jsx)(r(),{playing:!0,controls:!0,url:o}),"\n",(0,a.jsx)(n.h2,{id:"props",children:"Props"}),"\n",(0,a.jsx)(n.h3,{id:"isloading",children:"isLoading"}),"\n",(0,a.jsx)(n.p,{children:"Show loading bar"}),"\n",(0,a.jsx)("span",{style:{color:"grey"},children:"boolean"}),"\n",(0,a.jsx)(n.h3,{id:"ondatechanged",children:"onDateChanged"}),"\n",(0,a.jsx)(n.p,{children:"Callback function will be called when the event item is long pressed"}),"\n",(0,a.jsx)("span",{style:{color:"grey"},children:"function"}),"\n",(0,a.jsx)(n.h3,{id:"theme",children:"theme"}),"\n",(0,a.jsx)("img",{src:d,style:{width:"260px"}}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"loadingBarColor"})}),"\n"]}),"\n",(0,a.jsx)("span",{style:{color:"grey"},children:"object"})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(f,{...e})}):f(e)}}}]);